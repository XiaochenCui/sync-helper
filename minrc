# vi: set ft=sh :

export PATH=$HOME/bin:$PATH

shopt -s histappend              # append new history items to .bash_history
export HISTCONTROL=ignorespace   # leading space hides commands from history
export HISTFILESIZE=10000        # increase history file size (default is 500)
export HISTSIZE=${HISTFILESIZE}  # increase history size (default is 500)
export PROMPT_COMMAND="history -a; history -n; ${PROMPT_COMMAND}"   # mem/file sync
export HSTR_CONFIG=keywords-matching,raw-history-view,prompt-bottom
# if this is interactive shell, then bind hh to Ctrl-r (for Vi mode check doc)
if [[ $- =~ .*i.*  ]]; then bind '"\C-r": "\C-a hh \C-j"'; fi

source ~/.localrc

export WORKON_HOME=~/Envs

source ~/xiaochen-toolkit/scripts/os/general/z.sh

source ~/xiaochen-toolkit/config_files/.cxc_aliases

safe_source() {
    file=$1
    if [[ -e "$file" ]]; then
        source "$file"
    fi
}

# 激活 python 虚拟环境
safe_source "/usr/bin/virtualenvwrapper.sh"

# 激活 rust cargo 环境
safe_source "$HOME/.cargo/env"

# go
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin

export GOROOT=/usr/local/go
export PATH=$GOROOT/bin:$PATH

export GOPROXY=https://goproxy.cn

export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/lib/pkgconfig/
